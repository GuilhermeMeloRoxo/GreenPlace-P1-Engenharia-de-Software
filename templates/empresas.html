{% extends "base.html" %}

{% block title %}Página de empresas - Greenplace{% endblock %}

{% block content %}
<section class="info-empresa">
    <div class="info-principal">
        <h3>Painel de Monitoramento para Empresas</h3>
        <p>Seja bem-vindo(a) ao painel de monitoramento para empresas. Aqui você pode visualizar
            os dados de seus clientes e a quantidade de carbono emitida por eles.
        </p>
    </div>
    <div class="tabela-container">
        <table class="tabela-dados" id="empresas-table">
            <thead>
                <tr>
                    <th>Data de Resposta</th>
                    <th>Faixa Etária</th>
                    <th>Gênero</th>
                    <th>Renda Mensal</th>
                    <th>Estado</th>
                    <th>Emissão de Carbono</th>
                    <th>Pontuação</th>
                </tr>
            </thead>
            <tbody>
                <!-- {# A lógica será usada quando passar os dados via Flask
                talvez até dê pra tirar esse comentário dps #} -->
                {% if respostas %}
                {% for resposta in respostas %}
                <tr>
                    <td>{{ resposta['data'] }}</td>
                    <td>{{ resposta['idade'] }}</td> 
                    <td>{{ resposta['genero'] }}</td>
                    <td>{{ resposta['renda'] }}</td> 
                    <td>{{ resposta['estado'] }}</td> 
                    <td>{{ resposta['emissao_carbono'] }} Kg</td>
                    <td>{{ resposta['pontuacao'] }}%</td>
                </tr>
                {% endfor %}
                {% else %}
                <tr>
                    <td colspan="5" class="tabela-vazia">Nenhuma resposta encontrada</td>
                </tr>
                {% endif %}

            </tbody>
        </table>
    </div>
    <div class="acoes-empresas">
        <a href="{{ url_for('empresa.baixar_dados') }}" class="botao-download">
            Gerar Relatório Geral (PDF)
        </a>
    </div>
</section>
{% endblock %}
